@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=JetBrains+Mono:wght@400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Kinetic Typography Design System */
:root {
  /* Core Colors - High Contrast Brutalism */
  --background: #000000;
  --foreground: #FFFFFF;
  --accent: #00FF00;
  --accent-alt: #FF0000;
  --accent-blue: #0000FF;
  --accent-yellow: #FFFF00;
  --accent-magenta: #FF00FF;
  --accent-cyan: #00FFFF;
  
  /* Inverted Colors */
  --background-inverted: #FFFFFF;
  --foreground-inverted: #000000;
  
  /* Typography Scale - Viewport Based */
  --text-xs: clamp(0.75rem, 2vw, 1rem);
  --text-sm: clamp(1rem, 3vw, 1.25rem);
  --text-base: clamp(1.25rem, 4vw, 1.5rem);
  --text-lg: clamp(1.5rem, 5vw, 2rem);
  --text-xl: clamp(2rem, 6vw, 3rem);
  --text-2xl: clamp(3rem, 8vw, 4rem);
  --text-3xl: clamp(4rem, 10vw, 6rem);
  --text-4xl: clamp(6rem, 12vw, 8rem);
  --text-5xl: clamp(8rem, 15vw, 12rem);
  --text-6xl: clamp(12rem, 20vw, 16rem);
  
  /* Digital Decorations */
  --decoration-size: clamp(2rem, 8vw, 6rem);
  --decoration-opacity: 0.8;
}

/* Typography Classes */
.font-display {
  font-family: "Bebas Neue", Arial Black, sans-serif;
  font-weight: 400;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.font-mono {
  font-family: "JetBrains Mono", monospace;
  font-weight: 400;
}

.font-mono-bold {
  font-family: "JetBrains Mono", monospace;
  font-weight: 700;
}

/* Viewport Typography */
.text-vw-xs { font-size: var(--text-xs); }
.text-vw-sm { font-size: var(--text-sm); }
.text-vw-base { font-size: var(--text-base); }
.text-vw-lg { font-size: var(--text-lg); }
.text-vw-xl { font-size: var(--text-xl); }
.text-vw-2xl { font-size: var(--text-2xl); }
.text-vw-3xl { font-size: var(--text-3xl); }
.text-vw-4xl { font-size: var(--text-4xl); }
.text-vw-5xl { font-size: var(--text-5xl); }
.text-vw-6xl { font-size: var(--text-6xl); }

/* Digital Decorations */
.decoration-number {
  font-family: "JetBrains Mono", monospace;
  font-weight: 700;
  font-size: var(--decoration-size);
  opacity: var(--decoration-opacity);
  line-height: 0.8;
  user-select: none;
  pointer-events: none;
}

/* Color Inversion Effects */
.invert-colors {
  background-color: var(--foreground);
  color: var(--background);
}

.invert-colors-alt {
  background-color: var(--background-inverted);
  color: var(--foreground-inverted);
}

/* Hard Shadows - Brutalist Style */
.shadow-brutal {
  box-shadow: 8px 8px 0px var(--accent);
}

.shadow-brutal-red {
  box-shadow: 8px 8px 0px var(--accent-alt);
}

.shadow-brutal-blue {
  box-shadow: 8px 8px 0px var(--accent-blue);
}

.shadow-brutal-yellow {
  box-shadow: 8px 8px 0px var(--accent-yellow);
}

/* Kinetic Animations */
@keyframes marquee-left {
  0% { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}

@keyframes marquee-right {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes glitch {
  0%, 100% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
}

@keyframes color-shift {
  0% { color: var(--accent); }
  25% { color: var(--accent-alt); }
  50% { color: var(--accent-blue); }
  75% { color: var(--accent-yellow); }
  100% { color: var(--accent); }
}

.animate-marquee-left {
  animation: marquee-left 20s linear infinite;
}

.animate-marquee-right {
  animation: marquee-right 25s linear infinite;
}

.animate-glitch {
  animation: glitch 0.3s ease-in-out infinite;
}

.animate-color-shift {
  animation: color-shift 3s ease-in-out infinite;
}

/* 屏幕阅读器专用样式 */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* 焦点时显示跳过链接 */
.sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: 0.5rem 1rem;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
  background-color: #000;
  color: #fff;
  border-radius: 0.25rem;
  z-index: 9999;
}

/* 高对比度模式支持 */
@media (prefers-contrast: high) {
  :root {
    --muted-foreground: #374151;
    --accent: #0369a1;
    --border: #9ca3af;
  }
}

/* 减少动画偏好支持 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .animate-float,
  .animate-float-delayed,
  .animate-pulse-dot,
  .animate-rotate-slow {
    animation: none !important;
  }
}

/* 强制颜色模式支持 */
@media (forced-colors: active) {
  .bg-gradient-accent {
    background-color: ButtonText;
    color: ButtonFace;
    border: 1px solid ButtonText;
  }
  
  .gradient-text {
    color: LinkText;
    background: none;
    -webkit-background-clip: unset;
    background-clip: unset;
  }
}

/* 焦点指示器增强 */
.focus-visible:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(0, 82, 255, 0.2);
}

@layer base {
  html {
    font-family: "JetBrains Mono", monospace;
  }
  
  body {
    background-color: var(--background);
    color: var(--foreground);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden; /* Prevent horizontal scroll from marquees */
  }

  * {
    box-sizing: border-box;
  }

  /* Mobile optimizations */
  input, textarea, select {
    @apply text-base;
  }

  /* Touch optimizations */
  button, [role="button"] {
    @apply min-h-touch min-w-touch;
    touch-action: manipulation;
  }

  * {
    touch-action: manipulation;
  }

  .scroll-smooth {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  .touch-feedback:active {
    transform: scale(0.95);
    transition: transform 0.1s ease-in-out;
  }
}

@layer components {
  /* Kinetic Typography Components */
  
  /* Brutalist Buttons */
  .btn-brutal {
    @apply font-display text-vw-base px-6 py-4 border-4 border-current transition-all duration-150;
    background-color: var(--accent);
    color: var(--background);
    border-color: var(--background);
    text-transform: uppercase;
  }
  
  .btn-brutal:hover {
    transform: translate(-4px, -4px);
    box-shadow: 8px 8px 0px var(--background);
  }
  
  .btn-brutal:active {
    transform: translate(0, 0);
    box-shadow: 4px 4px 0px var(--background);
  }
  
  .btn-brutal-red {
    background-color: var(--accent-alt);
    color: var(--background);
  }
  
  .btn-brutal-blue {
    background-color: var(--accent-blue);
    color: var(--foreground);
  }
  
  /* Hard Edge Cards */
  .card-brutal {
    @apply border-4 border-current p-6 transition-all duration-150;
    background-color: var(--background);
    border-color: var(--foreground);
  }
  
  .card-brutal:hover {
    transform: translate(-4px, -4px);
    box-shadow: 8px 8px 0px var(--accent);
  }
  
  .card-brutal-inverted {
    background-color: var(--foreground);
    color: var(--background);
    border-color: var(--background);
  }
  
  .card-brutal-inverted:hover {
    box-shadow: 8px 8px 0px var(--accent-alt);
  }
  
  /* Marquee Containers */
  .marquee-container {
    @apply overflow-hidden whitespace-nowrap;
    mask-image: linear-gradient(
      to right,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    );
  }
  
  /* Digital Decoration Positioning */
  .decoration-absolute {
    position: absolute;
    z-index: -1;
  }
  
  .decoration-top-left {
    top: -2rem;
    left: -2rem;
  }
  
  .decoration-top-right {
    top: -2rem;
    right: -2rem;
  }
  
  .decoration-bottom-left {
    bottom: -2rem;
    left: -2rem;
  }
  
  .decoration-bottom-right {
    bottom: -2rem;
    right: -2rem;
  }
  
  /* Legacy compatibility - Updated for Kinetic Typography */
  .container-mobile {
    @apply max-w-md mx-auto px-4;
  }
  
  .btn-primary {
    @apply btn-brutal;
  }
  
  .btn-secondary {
    @apply btn-brutal-red;
  }

  .touch-item {
    @apply min-h-touch min-w-touch cursor-pointer select-none;
    touch-action: manipulation;
  }

  .touch-item:active {
    @apply scale-95;
    transition: transform 0.1s ease-in-out;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
}